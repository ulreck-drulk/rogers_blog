---
import BaseHead from "./BaseHead.astro";
import NavListItem from "@components/NavListItem.astro";
import pageSize from "src/config.js";
import config from "src/config.js";
export interface Props {
  title: string,
  description?: string,
  activeLink?: string,
}

const { title, description = "My blog", activeLink = null } = Astro.props as Props;
const { navLinks } = pageSize;
const { metaData: { authorName } } = config;
---

<html lang="en">

  <head>
    <BaseHead title={title} description={description} />
  </head>

  <body>
    <a href="#main"
      class="absolute bg-info text-info-content px-6 py-2 rounded-br-md translate-x-[-100%] focus-within:translate-x-0 transition-all">Skip
      navigation</a>
    <header class="container mx-auto flex items-center justify-between mb-16">
      <div class="p-4">
        <!-- Logo -->
        <svg width="85.928" height="25.202" viewBox="0 0 85.928 25.202" xmlns="http://www.w3.org/2000/svg"><g id="svgGroup" stroke-linecap="round" fill-rule="evenodd" font-size="9pt" stroke="#c9db54" stroke-width="0.20mm" fill="#46a855" style="stroke:#c9db54;stroke-width:0.20mm;fill:#46a855">
          <path 
            d="M 47.021 2.915 L 47.051 0 L 49.922 0.088 L 49.834 16.919 Q 49.819 17.388 49.761 17.871 A 7.784 7.784 0 0 1 49.585 18.823 A 8.321 8.321 0 0 1 47.838 22.225 A 9.652 9.652 0 0 1 47.754 22.324 Q 47.065 23.101 46.187 23.716 A 8.62 8.62 0 0 1 44.599 24.552 A 9.822 9.822 0 0 1 44.194 24.705 Q 43.096 25.093 41.792 25.195 A 12.317 12.317 0 0 1 41.375 25.202 A 11.416 11.416 0 0 1 38.452 24.829 Q 37.017 24.448 35.669 23.496 A 5.483 5.483 0 0 1 33.909 21.407 A 6.855 6.855 0 0 1 33.662 20.845 L 36.489 19.614 Q 37.002 20.771 37.947 21.409 A 5.727 5.727 0 0 0 39.018 21.983 A 4.709 4.709 0 0 0 39.873 22.236 A 6.337 6.337 0 0 0 41.234 22.381 A 7.304 7.304 0 0 0 42.129 22.324 A 6.976 6.976 0 0 0 42.832 22.147 A 6.048 6.048 0 0 0 43.088 22.061 A 6.357 6.357 0 0 0 43.715 21.797 A 5.534 5.534 0 0 0 43.916 21.694 A 6.899 6.899 0 0 0 44.689 21.186 A 5.577 5.577 0 0 0 45.198 20.75 A 5.273 5.273 0 0 0 45.758 20.114 A 4.355 4.355 0 0 0 46.055 19.658 A 8.057 8.057 0 0 0 46.276 19.227 A 7.015 7.015 0 0 0 46.34 19.087 A 12.155 12.155 0 0 0 46.515 18.678 A 10.855 10.855 0 0 0 46.567 18.545 A 6.339 6.339 0 0 0 46.71 18.102 Q 46.787 17.829 46.824 17.585 A 9.01 9.01 0 0 0 46.853 17.382 Q 46.89 17.095 46.89 16.919 L 46.89 15 Q 46.011 15.835 45.066 16.282 A 11.749 11.749 0 0 1 44.211 16.647 Q 43.743 16.825 43.315 16.934 A 10.844 10.844 0 0 1 42.385 17.124 A 7.347 7.347 0 0 1 41.47 17.212 A 8.512 8.512 0 0 1 38.583 16.74 A 7.428 7.428 0 0 1 35.757 14.912 A 7.615 7.615 0 0 1 34.322 12.854 A 9.082 9.082 0 0 1 34.05 12.231 A 8.893 8.893 0 0 1 33.508 10.042 A 11.322 11.322 0 0 1 33.428 8.672 A 9.749 9.749 0 0 1 33.613 6.732 A 7.705 7.705 0 0 1 34.124 5.12 A 8.774 8.774 0 0 1 35.156 3.361 A 7.595 7.595 0 0 1 35.933 2.49 A 7.968 7.968 0 0 1 38.467 0.857 A 7.61 7.61 0 0 1 41.129 0.295 A 7.297 7.297 0 0 1 41.309 0.293 Q 42.305 0.41 43.315 0.732 A 10.612 10.612 0 0 1 44.213 1.069 Q 44.678 1.267 45.176 1.523 A 6.884 6.884 0 0 1 46.698 2.598 A 8.011 8.011 0 0 1 47.021 2.915 Z M 66.006 11.279 L 68.833 11.851 A 8.831 8.831 0 0 1 67.79 14.097 A 8.29 8.29 0 0 1 67.676 14.268 Q 66.929 15.352 65.933 16.128 A 7.784 7.784 0 0 1 63.743 17.329 A 7.394 7.394 0 0 1 61.245 17.754 A 10.877 10.877 0 0 1 59.475 17.616 A 8.17 8.17 0 0 1 57.817 17.168 A 7.229 7.229 0 0 1 55.984 16.134 A 6.531 6.531 0 0 1 55.298 15.513 A 7.276 7.276 0 0 1 53.474 12.067 Q 53.205 10.927 53.203 9.587 A 13.6 13.6 0 0 1 53.203 9.565 A 9.509 9.509 0 0 1 53.582 6.855 A 8.751 8.751 0 0 1 53.826 6.145 A 8.857 8.857 0 0 1 55.111 3.877 A 8.203 8.203 0 0 1 55.532 3.384 A 7.978 7.978 0 0 1 58.081 1.538 A 7.473 7.473 0 0 1 61.219 0.864 A 8.541 8.541 0 0 1 61.245 0.864 A 7.047 7.047 0 0 1 64.116 1.458 Q 65.464 2.051 66.504 3.091 A 8.915 8.915 0 0 1 68.154 5.434 A 10.061 10.061 0 0 1 68.218 5.566 A 9.424 9.424 0 0 1 69.056 8.539 A 10.603 10.603 0 0 1 69.067 8.643 L 56.382 10.532 A 5.677 5.677 0 0 0 56.615 11.692 A 4.76 4.76 0 0 0 56.902 12.4 A 4.959 4.959 0 0 0 57.576 13.417 A 4.413 4.413 0 0 0 57.949 13.799 Q 59.253 14.971 61.245 14.971 A 5.026 5.026 0 0 0 64.233 13.997 A 4.433 4.433 0 0 0 65.958 11.468 A 5.678 5.678 0 0 0 66.006 11.279 Z M 14.048 6.987 L 11.162 8.071 A 7.954 7.954 0 0 0 11.115 7.271 Q 11.07 6.871 10.981 6.535 A 3.54 3.54 0 0 0 10.818 6.05 Q 10.51 5.324 10.016 4.931 A 2.097 2.097 0 0 0 9.946 4.878 Q 9.434 4.497 8.789 4.526 Q 8.364 4.6 7.925 4.863 A 5.148 5.148 0 0 0 7.469 5.18 Q 7.259 5.342 7.042 5.539 A 8.401 8.401 0 0 0 6.98 5.596 A 12.414 12.414 0 0 0 6.256 6.326 A 14.381 14.381 0 0 0 6.006 6.606 A 13.567 13.567 0 0 0 5.522 7.178 L 5.054 7.764 Q 4.6 8.35 4.189 8.943 A 91.304 91.304 0 0 0 3.804 9.504 Q 3.622 9.772 3.462 10.012 A 75.679 75.679 0 0 0 3.457 10.02 A 209.915 209.915 0 0 1 3.47 10.577 Q 3.476 10.862 3.482 11.176 A 352.043 352.043 0 0 1 3.486 11.389 A 141.762 141.762 0 0 0 3.523 12.898 A 1579.189 1579.189 0 0 1 3.538 13.421 Q 3.544 13.625 3.55 13.808 A 768.247 768.247 0 0 1 3.56 14.15 A 252.416 252.416 0 0 0 3.588 15.014 Q 3.603 15.424 3.617 15.789 A 151.196 151.196 0 0 0 3.618 15.813 A 36.433 36.433 0 0 0 3.634 16.165 Q 3.658 16.666 3.691 17.007 L 0.542 17.402 L 0.249 9.185 A 356.69 356.69 0 0 1 0.22 8.318 A 439.191 439.191 0 0 1 0.19 7.39 A 542.867 542.867 0 0 0 0.161 6.456 A 458.343 458.343 0 0 0 0.132 5.574 A 525.693 525.693 0 0 1 0.118 5.168 Q 0.105 4.772 0.096 4.472 A 154.465 154.465 0 0 1 0.088 4.219 A 34510.487 34510.487 0 0 1 0.06 3.25 Q 0.022 1.893 0 1.113 L 3.34 1.055 A 27.942 27.942 0 0 1 3.354 1.956 A 29.323 29.323 0 0 0 3.369 2.871 L 3.369 3.772 A 22.76 22.76 0 0 0 3.375 4.292 A 18.834 18.834 0 0 0 3.384 4.585 A 27.942 27.942 0 0 1 3.398 5.486 L 3.398 6.357 A 16.78 16.78 0 0 1 3.839 5.697 Q 4.077 5.355 4.358 4.984 A 28.193 28.193 0 0 1 4.438 4.878 Q 5.054 4.072 5.815 3.354 A 9.794 9.794 0 0 1 7.5 2.102 A 5.055 5.055 0 0 1 9.448 1.436 A 4.223 4.223 0 0 1 9.665 1.43 A 3.88 3.88 0 0 1 11.587 1.934 A 3.714 3.714 0 0 1 12.046 2.246 A 4.803 4.803 0 0 1 12.4 2.556 Q 12.79 2.932 13.132 3.508 A 6.331 6.331 0 0 1 13.154 3.545 A 5.822 5.822 0 0 1 13.466 4.217 Q 13.608 4.581 13.726 5.002 A 8.306 8.306 0 0 1 13.903 5.797 Q 13.998 6.345 14.048 6.987 Z M 85.928 6.987 L 83.042 8.071 A 7.954 7.954 0 0 0 82.995 7.271 Q 82.949 6.871 82.861 6.535 A 3.54 3.54 0 0 0 82.698 6.05 Q 82.39 5.324 81.896 4.931 A 2.097 2.097 0 0 0 81.826 4.878 Q 81.313 4.497 80.669 4.526 Q 80.244 4.6 79.805 4.863 A 5.148 5.148 0 0 0 79.349 5.18 Q 79.139 5.342 78.922 5.539 A 8.401 8.401 0 0 0 78.86 5.596 A 12.414 12.414 0 0 0 78.135 6.326 A 14.381 14.381 0 0 0 77.886 6.606 A 13.567 13.567 0 0 0 77.402 7.178 L 76.934 7.764 Q 76.479 8.35 76.069 8.943 A 91.304 91.304 0 0 0 75.684 9.504 Q 75.502 9.772 75.342 10.012 A 75.679 75.679 0 0 0 75.337 10.02 A 209.915 209.915 0 0 1 75.35 10.577 Q 75.356 10.862 75.362 11.176 A 352.043 352.043 0 0 1 75.366 11.389 A 141.762 141.762 0 0 0 75.403 12.898 A 1579.189 1579.189 0 0 1 75.418 13.421 Q 75.424 13.625 75.43 13.808 A 768.247 768.247 0 0 1 75.439 14.15 A 252.416 252.416 0 0 0 75.468 15.014 Q 75.483 15.424 75.497 15.789 A 151.196 151.196 0 0 0 75.498 15.813 A 36.433 36.433 0 0 0 75.514 16.165 Q 75.538 16.666 75.571 17.007 L 72.422 17.402 L 72.129 9.185 A 356.69 356.69 0 0 1 72.1 8.318 A 439.191 439.191 0 0 1 72.07 7.39 A 542.867 542.867 0 0 0 72.041 6.456 A 458.343 458.343 0 0 0 72.012 5.574 A 525.693 525.693 0 0 1 71.998 5.168 Q 71.985 4.772 71.975 4.472 A 154.465 154.465 0 0 1 71.968 4.219 A 34510.487 34510.487 0 0 1 71.94 3.25 Q 71.902 1.893 71.88 1.113 L 75.22 1.055 A 27.942 27.942 0 0 1 75.234 1.956 A 29.323 29.323 0 0 0 75.249 2.871 L 75.249 3.772 A 22.76 22.76 0 0 0 75.255 4.292 A 18.834 18.834 0 0 0 75.264 4.585 A 27.942 27.942 0 0 1 75.278 5.486 L 75.278 6.357 A 16.78 16.78 0 0 1 75.718 5.697 Q 75.957 5.355 76.237 4.984 A 28.193 28.193 0 0 1 76.318 4.878 Q 76.934 4.072 77.695 3.354 A 9.794 9.794 0 0 1 79.38 2.102 A 5.055 5.055 0 0 1 81.328 1.436 A 4.223 4.223 0 0 1 81.544 1.43 A 3.88 3.88 0 0 1 83.467 1.934 A 3.714 3.714 0 0 1 83.926 2.246 A 4.803 4.803 0 0 1 84.28 2.556 Q 84.67 2.932 85.012 3.508 A 6.331 6.331 0 0 1 85.034 3.545 A 5.822 5.822 0 0 1 85.345 4.217 Q 85.488 4.581 85.605 5.002 A 8.306 8.306 0 0 1 85.783 5.797 Q 85.878 6.345 85.928 6.987 Z M 30.894 11.568 A 9.706 9.706 0 0 0 31.172 9.214 A 10.754 10.754 0 0 0 31.146 8.47 A 9.076 9.076 0 0 0 30.557 5.779 A 9.75 9.75 0 0 0 30.427 5.463 A 8.474 8.474 0 0 0 28.872 3.047 Q 27.803 1.904 26.367 1.252 A 7.318 7.318 0 0 0 23.306 0.601 A 7.585 7.585 0 0 0 20.259 1.216 A 7.354 7.354 0 0 0 17.783 2.959 A 7.59 7.59 0 0 0 17.102 3.789 A 8.618 8.618 0 0 0 16.099 5.676 Q 15.483 7.266 15.483 9.214 A 11.197 11.197 0 0 0 15.543 10.388 A 9.048 9.048 0 0 0 16.099 12.729 A 9.438 9.438 0 0 0 16.324 13.26 A 8.015 8.015 0 0 0 17.783 15.439 A 7.283 7.283 0 0 0 20.262 17.219 A 7.629 7.629 0 0 0 23.306 17.812 A 7.318 7.318 0 0 0 26.367 17.161 Q 27.803 16.509 28.872 15.352 A 8.125 8.125 0 0 0 29.272 14.884 A 8.76 8.76 0 0 0 30.557 12.627 A 8.556 8.556 0 0 0 30.894 11.568 Z M 28.081 9.185 A 9 9 0 0 0 27.834 7.114 A 9.945 9.945 0 0 0 27.817 7.046 A 6.191 6.191 0 0 0 27.295 5.637 A 5.514 5.514 0 0 0 26.982 5.112 Q 26.411 4.248 25.503 3.713 A 3.766 3.766 0 0 0 24.29 3.267 A 5.233 5.233 0 0 0 23.306 3.179 A 4.872 4.872 0 0 0 22.283 3.281 A 3.645 3.645 0 0 0 21.167 3.713 A 4.508 4.508 0 0 0 19.702 5.112 A 5.815 5.815 0 0 0 18.967 6.68 A 6.786 6.786 0 0 0 18.867 7.046 A 9.071 9.071 0 0 0 18.605 9.053 A 8.46 8.46 0 0 0 18.604 9.185 A 8.12 8.12 0 0 0 18.889 11.301 Q 19.175 12.363 19.761 13.228 Q 20.347 14.077 21.233 14.626 A 3.653 3.653 0 0 0 22.714 15.139 A 4.67 4.67 0 0 0 23.306 15.176 A 4.74 4.74 0 0 0 24.363 15.063 A 3.626 3.626 0 0 0 25.452 14.626 Q 26.353 14.077 26.938 13.228 Q 27.524 12.363 27.803 11.301 A 8.321 8.321 0 0 0 28.081 9.185 Z M 46.948 9.814 L 46.948 7.896 Q 46.787 6.855 46.26 5.999 A 5.747 5.747 0 0 0 44.971 4.526 A 5.528 5.528 0 0 0 41.382 3.237 A 4.489 4.489 0 0 0 39.924 3.47 A 4.17 4.17 0 0 0 39.441 3.669 Q 38.555 4.102 37.91 4.863 A 5.592 5.592 0 0 0 37.12 6.147 A 6.718 6.718 0 0 0 36.914 6.665 A 6.546 6.546 0 0 0 36.559 8.498 A 7.62 7.62 0 0 0 36.548 8.906 A 6.864 6.864 0 0 0 36.684 10.297 A 5.781 5.781 0 0 0 36.914 11.111 A 5.445 5.445 0 0 0 37.587 12.407 A 4.906 4.906 0 0 0 37.939 12.847 Q 38.584 13.564 39.485 13.982 A 4.553 4.553 0 0 0 41.119 14.388 A 5.408 5.408 0 0 0 41.47 14.399 A 5.413 5.413 0 0 0 45 13.11 Q 45.732 12.51 46.245 11.667 Q 46.758 10.825 46.948 9.814 Z M 56.47 7.822 L 65.288 6.753 L 65.2 6.475 Q 64.644 5.024 63.669 4.204 A 3.46 3.46 0 0 0 61.857 3.423 A 4.627 4.627 0 0 0 61.245 3.384 A 4.143 4.143 0 0 0 60.601 3.437 Q 60.264 3.49 59.897 3.596 A 4.236 4.236 0 0 0 58.867 4.057 A 5.153 5.153 0 0 0 58.477 4.321 A 4.627 4.627 0 0 0 57.708 5.051 A 6.038 6.038 0 0 0 57.239 5.691 Q 56.724 6.494 56.498 7.665 A 8.237 8.237 0 0 0 56.47 7.822 Z" 
            vector-effect="non-scaling-stroke"/></g></svg>
      </div>

      <label aria-label="Hamburger Menu" id="nav-toggle"
        class="btn btn-circle swap swap-rotate fixed z-[999] top-4 right-4 hidden" aria-controls="primary-nav"
        aria-expanded="false">
        <input type="checkbox" />
        <!-- hamburger icon -->
        <svg class="swap-off fill-current" xmlns="http://www.w3.org/2000/svg" width="32" height="32"
          viewBox="0 0 512 512">
          <path d="M64,384H448V341.33H64Zm0-106.67H448V234.67H64ZM64,128v42.67H448V128Z" />
        </svg>
        <!-- close icon -->
        <svg class="swap-on fill-current" xmlns="http://www.w3.org/2000/svg" width="32" height="32"
          viewBox="0 0 512 512">
          <polygon
            points="400 145.49 366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49" />
        </svg>
      </label>

      <nav class="mr-6">
        <ul id="primary-nav" class="flex grow gap-8 items-center justify-center z-[100]" data-visible="false">
          {navLinks.map(ele =>
          <NavListItem navLink={ele.link} activeLink={activeLink} icon={ele.icon} />)}
          <li>
            <!-- Theme, Light/Dark mode -->
            <label id="themeSetting" class="swap swap-rotate" transition:persist>
              <!-- this hidden checkbox controls the state -->
              <input type="checkbox" />
              <!-- sun icon -->
              <svg data-set-theme="cmyk" class="swap-on fill-current w-6 h-6"
                xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path
                  d="M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z" />
              </svg>
              <!-- moon icon -->
              <svg data-set-theme="night" class="swap-off fill-current w-6 h-6"
                xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path
                  d="M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z" />
              </svg>
            </label>
          </li>
        </ul>
      </nav>
    </header>

    <main id="main" class="container mx-auto">
      <slot />
    </main>

    <svg xmlns="http://www.w3.org/2000/svg" id="scrollButton" viewBox="0 0 512 512"
      class="w-10 h-10 fill-primary fixed bottom-5 right-5 animate-[jump_1500ms_infinite] cursor-pointer bg-base-100 rounded-full"
      style="display: none">
      <path
        d="M256 0C114.6 0 0 114.6 0 256c0 141.4 114.6 256 256 256s256-114.6 256-256C512 114.6 397.4 0 256 0zM382.6 254.6c-12.5 12.5-32.75 12.5-45.25 0L288 205.3V384c0 17.69-14.33 32-32 32s-32-14.31-32-32V205.3L174.6 254.6c-12.5 12.5-32.75 12.5-45.25 0s-12.5-32.75 0-45.25l103.1-103.1C241.3 97.4 251.1 96 256 96c4.881 0 14.65 1.391 22.65 9.398l103.1 103.1C395.1 221.9 395.1 242.1 382.6 254.6z" />
    </svg>

    <footer class="border-t px-4 py-6 mt-6">
      <p class="text-center text-sm">&copy; {new Date().getFullYear()}&nbsp;{authorName}</p>
      <p class="text-center text-xs">Built with <a class="text-cyan-600 hover:text-black dark:hover:text-white"
          href="https://astro.build" target="_blank" rel="noreferrer noopener">{Astro.generator}</a></p>
    </footer>
  </body>

</html>

<style>
  html {
    --svg-totalLength: 844;
  }

  html[data-theme=night] {
    --fill-color: 142 72% 29%;
    --stroke-color: 217 33% 17%;
    --hamburger-bg: 0 0% 30%;
    color-scheme: dark;
  }

  html[data-theme=cmyk] {
    --fill-color: 173 80% 40%;
    --stroke-color: 213 27% 84%;
    --hamburger-bg: 0 0% 70%;
    color-scheme: light;
  }


  /* Mobile Navigation */
  @media (max-width:640px) {
    ul#primary-nav {
      position: fixed;
      inset: 0 0 0 30%;
      flex-direction: column;
      padding: min(30vh, 10rem) 2em;
      transform: translateX(100%);
      transition: transform 500ms ease-in-out;
      background: hsl(var(--hamburger-bg) / 0.5);
      backdrop-filter: blur(2rem);
    }

    ul#primary-nav[data-visible=true] {
      transform: translateX(0);
    }

    label#nav-toggle {
      display: grid;
    }
  }

  /* Logo & Theme SVG color */
  header path {
    fill: hsl(var(--fill-color));
  }
  header polygon{
    fill: hsl(var(--er));
  }


  /* Logo Animation */
  header>div>svg>path {
    stroke-dasharray: var(--svg-totalLength);
    stroke-dashoffset: var(--svg-totalLength);
    animation: logoAnimation 5s forwards ease-in-out;
    paint-order: stroke;
  }

  @keyframes logoAnimation {
    from {
      fill: hsl(var(--fill-color) / 0.1);
      stroke: hsl(var(--stroke-color));

    }

    to {
      stroke-dashoffset: 0;
      fill: hsl(var(--fill-color));
      stroke: hsl(var(--stroke-color) / 0);
    }
  }
</style>

<style is:global>
  ::selection {
    background-color: hsl(var(--a));
    color: hsl(var(--ac));
  }

  /* Scrollbar */
  ::-webkit-scrollbar {
    width: auto;
  }

  ::-webkit-scrollbar-track {
    background-color: hsl(var(--b3));
    border-radius: 100vmax;
    margin: 0.25rem;
  }

  ::-webkit-scrollbar-thumb {
    background-color: hsl(var(--bc));
    border-radius: 100vmax;
  }

  ::-webkit-scrollbar-thumb:hover {
    background-color: hsl(var(--bc) / 0.7);
    border-radius: 100vmax;
  }

  @supports (scrollbar-color: black white) {
    * {
      scrollbar-color: hsl(var(--bc)) hsl(var(--b3));
    }
  }
</style>

<script>
  // Navigation / Hamburger menu - control
  const nav = document.querySelector<HTMLUListElement>('#primary-nav');
  const navToggle = document.querySelector<HTMLLabelElement>('#nav-toggle');
  const navToggleInput = document.querySelector<HTMLInputElement>('#nav-toggle input');

  navToggle.addEventListener('change', () => {
    if (nav.getAttribute('data-visible') === 'false') {
      nav.setAttribute('data-visible', "true");
      nav.setAttribute("aria-expanded", "true");
    } else if (nav.getAttribute('data-visible') === 'true') {
      nav.setAttribute('data-visible', "false");
      nav.setAttribute("aria-expanded", "false");
    }
  });

  document.querySelector('main').addEventListener('click', () => {
    if (nav.getAttribute('data-visible') === 'true') {
      nav.setAttribute('data-visible', "false");
      nav.setAttribute("aria-expanded", "false");
      navToggleInput.checked = !navToggleInput.checked;
    }
  });


  // Scroll To Top button - control
  const scrollButton = document.querySelector<SVGElement>('#scrollButton')
  scrollButton.addEventListener('click', () => {
    window.scroll({
      top: 0,
      left: 0,
      behavior: 'smooth'
    });
  });
  window.addEventListener('scroll', () => {
    if (document.documentElement.scrollTop > (window.innerHeight / 4)) {
      scrollButton.style.display = "block";
    } else {
      scrollButton.style.display = "none";
    }
  });


  // Theme stuff
  function setTheme(){
    const theme = localStorage['theme'] || document.querySelector('html').getAttribute('data-theme');
    document.querySelector('html').setAttribute('data-theme',theme);
    
    if (theme === 'cmyk') {
      document.querySelector<HTMLInputElement>('#themeSetting > input').checked = true;
      } else {
      document.querySelector<HTMLInputElement>('#themeSetting > input').checked = false;
    }
  }

  function clickTheme() {
    document.querySelector('#themeSetting').addEventListener('click', () => {
      const themeSettingInputElement = document.querySelector<HTMLInputElement>('#themeSetting > input')
        themeSettingInputElement.checked = !(themeSettingInputElement.checked);
        if (themeSettingInputElement.checked) {
          localStorage['theme'] = 'cmyk';
        } else {
          localStorage['theme'] = 'night';
        }
        setTheme();
    })
  }

  clickTheme();
  setTheme();

  document.addEventListener('astro:after-swap', setTheme);
  document.addEventListener('astro:after-swap', clickTheme);
</script>